(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-120f59d6"],{"213f":function(t,e,a){"use strict";a("89bf")},"7b10":function(t,e,a){"use strict";a("d531")},"89bf":function(t,e,a){},"8f4b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{attrs:{panel:t.panel},on:{handleSetLineChartData:t.handleSetLineChartData}}),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"chart-data":t.lineChartData}})],1),a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"订单ID/UID"},model:{value:t.listQuery.id,callback:function(e){t.$set(t.listQuery,"id",e)},expression:"listQuery.id"}}),t._v(" "),a("el-date-picker",{staticClass:"filter-item",attrs:{type:"date",placeholder:"选择开始日期"},model:{value:t.listQuery.startDate,callback:function(e){t.$set(t.listQuery,"startDate",e)},expression:"listQuery.startDate"}}),t._v(" "),a("el-date-picker",{staticClass:"filter-item",attrs:{type:"date",placeholder:"选择结束日期"},model:{value:t.listQuery.endDate,callback:function(e){t.$set(t.listQuery,"endDate",e)},expression:"listQuery.endDate"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getList()}}},[t._v(" 搜索 ")])],1),a("el-row",{attrs:{gutter:8}},[a("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12}}},[a("transaction-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{lists:t.transactionList}})],1)],1)],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 总注册数 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.panel.newVisitis,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 今日新增注册数 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.panel.message,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 总成功交易 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.panel.purchases,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 今日成功交易 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.panel.shopping,duration:3600}})],1)])])],1)},r=[],l=a("ec1b"),c=a.n(l),o={components:{CountTo:c.a},props:{panel:{type:Object,required:!0}},created:function(){},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)}}},d=o,u=(a("7b10"),a("2877")),p=Object(u["a"])(d,s,r,!1,null,"028797b4",null),h=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},m=[],v=a("313e"),g=a.n(v),b=a("ed08"),y={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(b["a"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d");var _={mixins:[y],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=g.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,a=t.actualData;this.chart.setOption({xAxis:{data:["六天前","五天前","四天前","大前天","前日","昨日","今日"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},C=_,w=Object(u["a"])(C,f,m,!1,null,null,null),x=w.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%","padding-top":"15px"},attrs:{data:t.lists}},[a("el-table-column",{attrs:{label:"订单数量","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.order_no)+" ")]}}])}),a("el-table-column",{attrs:{label:"总计金额",width:"195",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" ¥"+t._s(e.row.price)+" ")]}}])}),a("el-table-column",{attrs:{label:"订单状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tag",{attrs:{type:t._f("statusFilter")(i.status)}},[t._v(" "+t._s(t._f("statusFilters")(i.status))+" ")])]}}])})],1)},$=[],E=(a("b0c0"),a("b85c")),S=[{id:0,name:"待完成"},{id:1,name:"已完成"},{id:2,name:"已取消"},{id:3,name:"已拒绝"}],L=["info","success","danger","warning"],z={filters:{statusFilter:function(t){return L[t]},statusFilters:function(t){var e,a=Object(E["a"])(S);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i.id===t)return i.name}}catch(n){a.e(n)}finally{a.f()}return"unKnow"},orderNoFilter:function(t){return t.substring(0,30)}},props:{lists:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},methods:{}},k=z,O=Object(u["a"])(k,D,$,!1,null,null,null),R=O.exports,Q=a("b775");function j(t){return Object(Q["a"])({url:"/transaction/list",method:"get",params:t})}function T(t){return Object(Q["a"])({url:"/transaction/static",method:"get",params:{t:t}})}var F={newVisitis:{expectedData:[1,120,161,134,105,160,165]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},H={name:"ComplexTable",components:{PanelGroup:h,LineChart:x,TransactionTable:R},data:function(){return{listLoading:!0,panel:{newVisitis:0,message:0,purchases:0,shopping:0},transactionList:[],listQuery:{t:(new Date).getTime()},lineChartData:F.newVisitis}},created:function(){var t=this;T((new Date).getTime()).then((function(e){F=e.data.lineChartData,t.panel=e.data.panel,t.lineChartData=F.newVisitis,t.getList()}))},methods:{getList:function(){var t=this;this.listLoading=!0,j(this.listQuery).then((function(e){t.transactionList=e.data.items,t.transactionList=e.data.items,setTimeout((function(){t.listLoading=!1}),1e3)}))},handleSetLineChartData:function(t){console.log(t),this.lineChartData=F[t]}}},N=H,V=(a("213f"),Object(u["a"])(N,i,n,!1,null,"c9bf3266",null));e["default"]=V.exports},d531:function(t,e,a){}}]);